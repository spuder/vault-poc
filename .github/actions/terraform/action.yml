---
name: 'Foobar'
description: 'Foobar'
inputs:
  environment:
    description: 'The environment to run the terraform plan and apply against'
    required: true
    default: 'sandbox'
  # approver_required:
  #   description: 'If true, then the terraform plan will require approval before running terraform apply'
  #   required: false
  #   default: 'false'

defaults:
  run:
    shell: bash
    working-directory: ${{ inputs.environment }}/vault

runs:
  using: "composite"
  steps:
    - name: ls
      run: ls -la ${{ inputs.environment }}
    # - name: approve
    #   if: ${{ github.event.inputs.approver_required == 'true' }}
    #   uses: actions/request-approval@v2
    #   with:
    #     reviewers: octocat #TODO: change to some other approver
    - name: deploy
      run: echo "deploying to ${{ inputs.environment }}"
